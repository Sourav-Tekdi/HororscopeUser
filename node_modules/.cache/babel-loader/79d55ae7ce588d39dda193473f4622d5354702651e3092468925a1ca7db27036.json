{"ast":null,"code":"var _jsxFileName = \"/home/ttpl-rt-239/Documents/Astrology/Hororscope/HororscopeUser/src/admin/screens/chat/Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport Footer from '../../includes/footer';\nimport Header from '../../includes/header';\nimport Sidebar from '../../includes/sidebar';\nimport BackToTop from '../../includes/BackToTop';\nimport { Link, useParams } from 'react-router-dom';\nimport { io } from \"socket.io-client\";\nimport { useProfile } from '../../context/ProfileContext';\nimport Helpers from '../../../Helpers/Helpers';\nimport Loader from '../../../components/Loader';\nimport Notification from '../../../Helpers/Notification';\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Chat = ({\n  title\n}) => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    getStorage,\n    httpRequest\n  } = Helpers();\n  const userProfile = useProfile();\n  const [selectedChat, setSelectedChat] = useState({});\n  const [messages, setMessages] = useState([]);\n  const [chatList, setChatList] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [status, setStatus] = useState('pending');\n  const [loading, setLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const socket = useRef(null);\n  useEffect(() => {\n    document.title = title;\n  }, [title]);\n\n  // Initialize Socket.IO client with Authorization token\n  // Check if the user is valid and socked is not connect at that time its buid a socket connect \n  useEffect(() => {\n    socket.current = io(process.env.REACT_APP_API_URL, {\n      auth: {\n        token: getStorage('accessToken')\n      }\n    });\n\n    // Join astrologerâ€™s chat room\n    // socket.current.emit(\"joinAstrologer\", { astrologerId: userProfile.id })\n\n    // Listen for incoming messages\n    socket.current.on(\"sendMessage\", data => {\n      const message = {\n        content: data.content,\n        sender: \"Assistant\",\n        timestamp: data.timestamp\n      };\n      setMessages(prev => [...prev, message]);\n      setIsTyping(false);\n    });\n    socket.current.on(\"error\", data => {\n      console.log(data);\n    });\n    console.log(\"Socket ID:\", socket.current.id);\n\n    // Update chat list only if the user is not already in the list\n\n    socket.current.on(\"serverInitiateChat\", data => {\n      console.log(\"chat request send from user\");\n      setChatList(prev => {\n        if (!prev.find(chat => chat._id === data.chatSession._id)) {\n          const audio = new Audio(\"/audio/new_message.ogg\");\n          audio.play().catch(error => console.error(\"Audio playback error:\", error));\n          return [...prev, data.chatSession];\n        }\n        return prev;\n      });\n    });\n    socket.current.on(\"serverClosedChat\", data => {\n      setChatList(prev => {\n        return prev.filter(chat => chat._id !== data.chat_id);\n      });\n      Notification(data.status, data.message);\n      setSelectedChat({});\n    });\n    socket.current.onAny((event, ...args) => {\n      console.log('Event received:', event, args);\n    });\n\n    // Attach the unload event\n    // window.addEventListener(\"beforeunload\", handleOnBeforeUnload);\n\n    const handleOnBeforeUnload = e => {\n      // Use the browser's native confirmation dialog\n      e.preventDefault();\n      e.returnValue = \"Are you sure you want to leave? Your chat session may be interrupted.\";\n      // This text may not be displayed in modern browsers\n    };\n    const handleOnUnload = () => {\n      console.log(\"userClosedBrowser\");\n      if (socket.current) {\n        var _userProfile$userInfo;\n        socket.current.emit(\"closedOrRefreshBrowser\", {\n          chatId: id,\n          userId: userProfile === null || userProfile === void 0 ? void 0 : (_userProfile$userInfo = userProfile.userInfo) === null || _userProfile$userInfo === void 0 ? void 0 : _userProfile$userInfo.id,\n          reason: \"The Astrologer has gone offline. The chat session has been ended.\"\n        });\n        socket.current.disconnect();\n      }\n      Notification('error', 'You have been logged out of the system. Please log in again to continue.');\n    };\n\n    // Attach events\n    window.addEventListener(\"beforeunload\", handleOnBeforeUnload);\n    window.addEventListener(\"unload\", handleOnUnload);\n\n    // Clean up socket connection on component unmount\n    return () => {\n      window.removeEventListener(\"beforeunload\", handleOnBeforeUnload);\n      window.removeEventListener(\"unload\", handleOnUnload);\n    };\n  }, []);\n  useEffect(() => {\n    // Listen for typing indicator\n    socket.current.on(\"sendTyping\", data => {\n      var _data$user_id, _selectedChat$userDet, _selectedChat$userDet2;\n      // console.log(\"Typing event received:\", data)\n      // console.log(\"Current selected chat ID:\", selectedChat?.id)\n\n      if ((data === null || data === void 0 ? void 0 : (_data$user_id = data.user_id) === null || _data$user_id === void 0 ? void 0 : _data$user_id.toString()) === (selectedChat === null || selectedChat === void 0 ? void 0 : (_selectedChat$userDet = selectedChat.userDetails) === null || _selectedChat$userDet === void 0 ? void 0 : (_selectedChat$userDet2 = _selectedChat$userDet._id) === null || _selectedChat$userDet2 === void 0 ? void 0 : _selectedChat$userDet2.toString())) {\n        setIsTyping(data.message);\n      } else {\n        setIsTyping(false);\n      }\n    });\n  }, [selectedChat]);\n\n  // Fetch and set the selected chat from params on initial render or when id changes\n  useEffect(() => {\n    if (id && chatList.length > 0) {\n      const foundChat = chatList.find(chat => chat._id === id);\n      console.log(\"foundChat\", foundChat);\n      if (foundChat) {\n        setSelectedChat(foundChat);\n        setStatus(foundChat.status);\n        setMessages([]); // Clear messages when switching chats\n      }\n    }\n  }, [id, chatList]);\n  const handleTyping = message => {\n    try {\n      socket.current.emit(\"receiveTyping\", {\n        send_to: selectedChat.userDetails._id,\n        message: message.length > 0\n      });\n    } catch (error) {\n      console.error('Error sending typing:', error);\n    }\n  };\n  const handleSendMessage = () => {\n    if (newMessage.trim() !== '') {\n      const message = {\n        content: newMessage,\n        sender: 'You',\n        send_to: selectedChat.userDetails.id,\n        timestamp: new Date().toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      };\n      setMessages(prev => [...prev, message]);\n      setNewMessage('');\n      handleTyping('');\n      setIsTyping(false);\n      try {\n        socket.current.emit(\"receiveMessage\", {\n          message\n        });\n        console.log(\"send message\", message);\n      } catch (error) {\n        console.error('Error sending message:', error);\n      }\n    }\n  };\n  const handleChatSelection = chat => {\n    setIsTyping(false);\n    setSelectedChat(chat);\n    setStatus(chat.status);\n    setMessages([]);\n  };\n  useEffect(() => {\n    const getChats = async () => {\n      try {\n        setLoading(true);\n        const response = await httpRequest(`/chat/all/?userId=${userProfile.userInfo.id}&status=completed`);\n        if (response.status === 'error') return;\n        console.log(\"response\", response.data);\n\n        // const filteredChatList = response.data.map((res) => ({\n        //   id: res.userDetails.id,\n        //   name: res.userDetails.name\n        // }))\n        setChatList(response.data);\n      } catch (error) {\n        console.error('Error fetching chat list:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    getChats();\n  }, []);\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scroll({\n        top: messagesEndRef.current.scrollHeight,\n        left: 0,\n        behavior: \"smooth\"\n      });\n    }\n  }, [messages, isTyping]);\n  const acceptChat = async () => {\n    Swal.fire({\n      title: \"Are you sure?\",\n      text: \"You want to accept the chat!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, accept it!\"\n    }).then(async result => {\n      if (result.isConfirmed) {\n        try {\n          const chat_id = selectedChat._id;\n          const response = await httpRequest(`/chat/accept/${chat_id}`, 'POST');\n          if (response.status == 'success') {\n            setStatus('accepted');\n            socket.current.emit(\"acceptChat\", {\n              chat_id: selectedChat._id,\n              send_to: selectedChat.userDetails._id,\n              astrologer_id: selectedChat.astrologerDetails._id,\n              user_online_status: selectedChat.userDetails.is_online,\n              astrologer_online_status: selectedChat.astrologerDetails.is_online\n            });\n          } else {\n            Notification(response.status, response.message);\n          }\n        } catch (error) {\n          console.error(\"Error closing chat:\", error);\n          Swal.fire({\n            title: \"Error!\",\n            text: \"Failed to close the chat.\",\n            icon: \"error\"\n          });\n        }\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"wrapper\",\n      children: [loading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clearfix\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row pt-2 pb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-9\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"page-title\",\n                children: title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n                className: \"breadcrumb\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"breadcrumb-item\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/\",\n                    children: process.env.REACT_APP_NAME\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 51\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"breadcrumb-item\",\n                  children: \"Chat\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"breadcrumb-item active\",\n                  \"aria-current\": \"page\",\n                  children: title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-3 chat-list\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chat-list-header\",\n                children: \"Chats\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chat-list-items\",\n                children: chatList.map(chat => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `chat-list-item ${selectedChat._id === chat._id ? 'active' : ''}`,\n                  onClick: () => handleChatSelection(chat),\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: `/chat/${chat._id}`,\n                    children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"chat-name\",\n                      children: chat.userDetails.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 296,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 23\n                  }, this)\n                }, chat._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), selectedChat._id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-9\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body chat-window\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"chat-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"chat-title\",\n                      children: selectedChat.userDetails.name || \"Select a chat\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 25\n                    }, this), status === 'pending' && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: acceptChat,\n                      className: \"btn btn-success\",\n                      children: \"Accept Chat\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 51\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"chat-messages\",\n                    ref: messagesEndRef,\n                    children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `message ${msg.sender === 'You' ? 'sent' : 'received'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"message-text\",\n                        children: msg.content\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 320,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"message-time\",\n                        children: msg.timestamp\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 321,\n                        columnNumber: 29\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 27\n                    }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"typing-indicator\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"dot\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 326,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"dot\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 327,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"dot\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 328,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 23\n                  }, this), status === 'pending' ? /*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"Need to start chat!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"chat-input\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        placeholder: \"Type a message...\",\n                        value: newMessage,\n                        onChange: e => {\n                          setNewMessage(e.target.value);\n                          handleTyping(e.target.value);\n                        },\n                        onKeyPress: e => e.key === 'Enter' && handleSendMessage()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 340,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: handleSendMessage,\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fa fa-paper-plane\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 351,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 350,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 339,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BackToTop, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: \"true\",\n      children: `\n        .chat-list {\n          background-color: #f8f9fa;\n          border-right: 1px solid #ddd;\n          height: 75vh;\n          overflow-y: auto;\n          padding: 15px;\n        }\n        .chat-list-header {\n          font-size: 1.25rem;\n          font-weight: bold;\n          margin-bottom: 10px;\n        }\n        .chat-list-item {\n          padding: 10px;\n          border-radius: 8px;\n          margin-bottom: 8px;\n          cursor: pointer;\n          transition: background-color 0.3s;\n        }\n        .chat-list-item.active,\n        .chat-list-item:hover {\n          background-color: #e0e0e0;\n        }\n        .chat-name {\n          font-size: 1rem;\n          margin: 0;\n          font-weight: bold;\n        }\n        .chat-last-message {\n          font-size: 0.85rem;\n          color: #666;\n        }\n        .chat-window {\n          display: flex;\n          flex-direction: column;\n          height: 75vh;\n          border-radius: 8px;\n          box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n          overflow: hidden;\n        }\n        .chat-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 15px 20px;\n          background-color: #007bff;\n          color: #fff;\n        }\n        .chat-messages {\n          flex: 1;\n          padding: 20px;\n          overflow-y: auto;\n          background-color: #f4f6f9;\n        }\n        .message {\n          max-width: 60%;\n          margin-bottom: 15px;\n          padding: 10px 15px;\n          border-radius: 20px;\n          font-size: 0.95rem;\n          position: relative;\n          word-wrap: break-word;\n        }\n        .message.sent {\n          align-self: flex-end;\n          background-color: #dcf8c6;\n          color: #333;\n          text-align: right;\n          border-top-right-radius: 5px;\n          margin-left: auto;\n        }\n        .message.received {\n          align-self: flex-start;\n          background-color: #ffffff;\n          color: #333;\n          border: 1px solid #e0e0e0;\n          border-top-left-radius: 5px;\n          margin-right: auto;\n        }\n        .card-body {\n          padding: 0px !important;\n        }\n        .typing-indicator {\n            display: flex;\n            align-items: center;\n            margin-top: 5px;\n            background: #5a4f4f;\n            width: 60px;\n            padding: 10px;\n            border-radius: 100px;\n        }\n        .dot {\n            width: 8px;\n            height: 8px;\n            margin: 0 2px;\n            border-radius: 50%;\n            background-color: #ffffff;\n            animation: typing 0.6s infinite alternate;\n        }\n        .dot:nth-child(2) {\n            animation-delay: 0.2s;\n        }\n        .dot:nth-child(3) {\n            animation-delay: 0.4s;\n        }\n        @keyframes typing {\n            0% {\n                transform: translateY(0);\n            }\n            100% {\n                transform: translateY(-5px);\n            }\n        }\n        .chat-input {\n          display: flex;\n          padding: 10px;\n          border-top: 1px solid #ddd;\n          background-color: #fff;\n        }\n        .chat-input input {\n          flex: 1;\n          padding: 10px;\n          border: 1px solid #ddd;\n          border-radius: 20px;\n          margin-right: 10px;\n        }\n        .chat-input button {\n          background-color: #007bff;\n          border: none;\n          border-radius: 50%;\n          width: 40px;\n          height: 40px;\n          cursor: pointer;\n        }\n        .chat-input button i {\n          color: #fff;\n          font-size: 1.25rem;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Chat, \"xr5J5rO08ydYqziwL2fvH9XFlF4=\", false, function () {\n  return [useParams, useProfile];\n});\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Footer","Header","Sidebar","BackToTop","Link","useParams","io","useProfile","Helpers","Loader","Notification","Swal","jsxDEV","_jsxDEV","Fragment","_Fragment","Chat","title","_s","id","getStorage","httpRequest","userProfile","selectedChat","setSelectedChat","messages","setMessages","chatList","setChatList","newMessage","setNewMessage","isTyping","setIsTyping","status","setStatus","loading","setLoading","messagesEndRef","socket","document","current","process","env","REACT_APP_API_URL","auth","token","on","data","message","content","sender","timestamp","prev","console","log","find","chat","_id","chatSession","audio","Audio","play","catch","error","filter","chat_id","onAny","event","args","handleOnBeforeUnload","e","preventDefault","returnValue","handleOnUnload","_userProfile$userInfo","emit","chatId","userId","userInfo","reason","disconnect","window","addEventListener","removeEventListener","_data$user_id","_selectedChat$userDet","_selectedChat$userDet2","user_id","toString","userDetails","length","foundChat","handleTyping","send_to","handleSendMessage","trim","Date","toLocaleTimeString","hour","minute","handleChatSelection","getChats","response","scroll","top","scrollHeight","left","behavior","acceptChat","fire","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","astrologer_id","astrologerDetails","user_online_status","is_online","astrologer_online_status","children","fileName","_jsxFileName","lineNumber","columnNumber","className","to","REACT_APP_NAME","map","onClick","name","ref","msg","index","type","placeholder","value","onChange","target","onKeyPress","key","jsx","_c","$RefreshReg$"],"sources":["/home/ttpl-rt-239/Documents/Astrology/Hororscope/HororscopeUser/src/admin/screens/chat/Chat.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport Footer from '../../includes/footer'\nimport Header from '../../includes/header'\nimport Sidebar from '../../includes/sidebar'\nimport BackToTop from '../../includes/BackToTop'\nimport { Link, useParams } from 'react-router-dom'\nimport { io } from \"socket.io-client\"\nimport { useProfile } from '../../context/ProfileContext'\nimport Helpers from '../../../Helpers/Helpers'\nimport Loader from '../../../components/Loader'\nimport Notification from '../../../Helpers/Notification'\nimport Swal from 'sweetalert2'\n\nconst Chat = ({ title }) => {\n  const { id } = useParams()\n  const { getStorage, httpRequest } = Helpers()\n  const userProfile = useProfile()\n  const [selectedChat, setSelectedChat] = useState({})\n  const [messages, setMessages] = useState([])\n  const [chatList, setChatList] = useState([])\n  const [newMessage, setNewMessage] = useState('')\n  const [isTyping, setIsTyping] = useState(false)\n  const [status, setStatus] = useState('pending')\n  const [loading, setLoading] = useState(false)\n  const messagesEndRef = useRef(null)\n  const socket = useRef(null)\n\n  useEffect(() => {\n    document.title = title\n  }, [title])\n\n\n  // Initialize Socket.IO client with Authorization token\n  // Check if the user is valid and socked is not connect at that time its buid a socket connect \n  useEffect(() => {\n    socket.current = io(process.env.REACT_APP_API_URL, {\n      auth: {\n        token: getStorage('accessToken')\n      }\n    })\n\n    // Join astrologerâ€™s chat room\n    // socket.current.emit(\"joinAstrologer\", { astrologerId: userProfile.id })\n\n    // Listen for incoming messages\n    socket.current.on(\"sendMessage\", (data) => {\n\n      const message = {\n        content: data.content,\n        sender: \"Assistant\",\n        timestamp: data.timestamp\n      }\n      setMessages((prev) => [...prev, message])\n      setIsTyping(false)\n    })\n\n    socket.current.on(\"error\", (data) => {\n\n      console.log(data);\n\n    })\n    console.log(\"Socket ID:\", socket.current.id);\n\n    // Update chat list only if the user is not already in the list\n\n    socket.current.on(\"serverInitiateChat\", (data) => {\n      console.log(\"chat request send from user\");\n\n      setChatList((prev) => {\n        if (!prev.find((chat) => chat._id === data.chatSession._id)) {\n          const audio = new Audio(\"/audio/new_message.ogg\")\n          audio.play().catch((error) => console.error(\"Audio playback error:\", error))\n          return [...prev, data.chatSession]\n        }\n        return prev\n      })\n    })\n\n\n    socket.current.on(\"serverClosedChat\", (data) => {\n      setChatList((prev) => {\n        return prev.filter((chat) => chat._id !== data.chat_id);\n      });\n      Notification(data.status, data.message)\n      setSelectedChat({})\n    });\n\n\n    socket.current.onAny((event, ...args) => {\n      console.log('Event received:', event, args);\n    });\n    \n\n    // Attach the unload event\n    // window.addEventListener(\"beforeunload\", handleOnBeforeUnload);\n\n    const handleOnBeforeUnload = (e) => {\n      // Use the browser's native confirmation dialog\n      e.preventDefault();\n      e.returnValue = \"Are you sure you want to leave? Your chat session may be interrupted.\";\n      // This text may not be displayed in modern browsers\n    };\n  \n    const handleOnUnload = () => {\n      console.log(\"userClosedBrowser\");\n      if (socket.current) {\n        socket.current.emit(\"closedOrRefreshBrowser\", {\n          chatId: id,\n          userId: userProfile?.userInfo?.id,\n          reason: \"The Astrologer has gone offline. The chat session has been ended.\",\n        });\n        socket.current.disconnect();\n      }\n      Notification('error', 'You have been logged out of the system. Please log in again to continue.')\n    };\n  \n    // Attach events\n    window.addEventListener(\"beforeunload\", handleOnBeforeUnload);\n    window.addEventListener(\"unload\", handleOnUnload);\n    \n    // Clean up socket connection on component unmount\n    return () => {\n      window.removeEventListener(\"beforeunload\", handleOnBeforeUnload);\n      window.removeEventListener(\"unload\", handleOnUnload);\n    }\n  }, [])\n\n  useEffect(() => {\n    // Listen for typing indicator\n    socket.current.on(\"sendTyping\", (data) => {\n      // console.log(\"Typing event received:\", data)\n      // console.log(\"Current selected chat ID:\", selectedChat?.id)\n\n      if (data?.user_id?.toString() === selectedChat?.userDetails?._id?.toString()) {\n        setIsTyping(data.message)\n      } else {\n        setIsTyping(false)\n      }\n    })\n  }, [selectedChat])\n\n  // Fetch and set the selected chat from params on initial render or when id changes\n  useEffect(() => {\n    if (id && chatList.length > 0) {\n      const foundChat = chatList.find((chat) => chat._id === id)\n      console.log(\"foundChat\", foundChat);\n\n      if (foundChat) {\n        setSelectedChat(foundChat)\n        setStatus(foundChat.status)\n        setMessages([]) // Clear messages when switching chats\n      }\n    }\n  }, [id, chatList])\n\n  const handleTyping = (message) => {\n    try {\n      socket.current.emit(\"receiveTyping\", { send_to: selectedChat.userDetails._id, message: message.length > 0 })\n    } catch (error) {\n      console.error('Error sending typing:', error)\n    }\n  }\n\n  const handleSendMessage = () => {\n    if (newMessage.trim() !== '') {\n      const message = {\n        content: newMessage,\n        sender: 'You',\n        send_to: selectedChat.userDetails.id,\n        timestamp: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n      }\n\n      setMessages((prev) => [...prev, message])\n      setNewMessage('')\n      handleTyping('')\n      setIsTyping(false)\n\n      try {\n        socket.current.emit(\"receiveMessage\", { message })\n\n        console.log(\"send message\",message);\n        \n      } catch (error) {\n        console.error('Error sending message:', error)\n      }\n    }\n  }\n\n  const handleChatSelection = (chat) => {\n    setIsTyping(false)\n    setSelectedChat(chat)\n    setStatus(chat.status)\n    setMessages([])\n  }\n\n  useEffect(() => {\n    const getChats = async () => {\n      try {\n        setLoading(true)\n        const response = await httpRequest(`/chat/all/?userId=${userProfile.userInfo.id}&status=completed`)\n        if (response.status === 'error') return\n        console.log(\"response\", response.data);\n\n        // const filteredChatList = response.data.map((res) => ({\n        //   id: res.userDetails.id,\n        //   name: res.userDetails.name\n        // }))\n        setChatList(response.data)\n      } catch (error) {\n        console.error('Error fetching chat list:', error)\n      } finally {\n        setLoading(false)\n      }\n    }\n    getChats()\n  }, [])\n\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scroll({\n        top: messagesEndRef.current.scrollHeight,\n        left: 0,\n        behavior: \"smooth\"\n      })\n    }\n  }, [messages, isTyping])\n\n  const acceptChat = async () => {\n\n    Swal.fire({\n      title: \"Are you sure?\",\n      text: \"You want to accept the chat!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, accept it!\"\n    }).then(async (result) => {\n      if (result.isConfirmed) {\n        try {\n          const chat_id = selectedChat._id\n          const response = await httpRequest(`/chat/accept/${chat_id}`, 'POST')\n          if (response.status == 'success') {\n            setStatus('accepted')\n            socket.current.emit(\"acceptChat\", { chat_id: selectedChat._id, send_to: selectedChat.userDetails._id, astrologer_id: selectedChat.astrologerDetails._id, user_online_status: selectedChat.userDetails.is_online, astrologer_online_status: selectedChat.astrologerDetails.is_online })\n          } else {\n            Notification(response.status, response.message)\n          }\n        } catch (error) {\n          console.error(\"Error closing chat:\", error);\n          Swal.fire({\n            title: \"Error!\",\n            text: \"Failed to close the chat.\",\n            icon: \"error\"\n          });\n        }\n      }\n    });\n\n  }\n\n\n  return (\n    <>\n      <div id=\"wrapper\">\n        {loading && <Loader />}\n        <Sidebar />\n        <Header />\n        <div className=\"clearfix\"></div>\n        <div className=\"content-wrapper\">\n          <div className=\"container-fluid\">\n            {/* Page Title */}\n            <div className=\"row pt-2 pb-2\">\n              <div className=\"col-sm-9\">\n                <h4 className=\"page-title\">{title}</h4>\n                <ol className=\"breadcrumb\">\n                  <li className=\"breadcrumb-item\"><Link to=\"/\">{process.env.REACT_APP_NAME}</Link></li>\n                  <li className=\"breadcrumb-item\">Chat</li>\n                  <li className=\"breadcrumb-item active\" aria-current=\"page\">{title}</li>\n                </ol>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              {/* Chat List Sidebar */}\n              <div className=\"col-lg-3 chat-list\">\n                <div className=\"chat-list-header\">Chats</div>\n                <div className=\"chat-list-items\">\n                  {chatList.map((chat) => (\n                    <div\n                      key={chat._id}\n                      className={`chat-list-item ${selectedChat._id === chat._id ? 'active' : ''}`}\n                      onClick={() => handleChatSelection(chat)}\n                    >\n                      <Link to={`/chat/${chat._id}`}>\n                        <h5 className=\"chat-name\">{chat.userDetails.name}</h5>\n                      </Link>\n                    </div>\n                  ))}\n                </div>\n\n              </div>\n\n              {/* Chat Window */}\n              {selectedChat._id && (\n                <div className=\"col-lg-9\">\n                  <div className=\"card\">\n                    <div className=\"card-body chat-window\">\n                      <div className=\"chat-header\">\n                        <h5 className=\"chat-title\">{selectedChat.userDetails.name || \"Select a chat\"}</h5>\n                        {\n                          status === 'pending' && <button onClick={acceptChat} className='btn btn-success'>Accept Chat</button>\n                        }\n\n                      </div>\n\n                      <div className=\"chat-messages\" ref={messagesEndRef}>\n                        {messages.map((msg, index) => (\n                          <div key={index} className={`message ${msg.sender === 'You' ? 'sent' : 'received'}`}>\n                            <div className=\"message-text\">{msg.content}</div>\n                            <div className=\"message-time\">{msg.timestamp}</div>\n                          </div>\n                        ))}\n                        {isTyping && (\n                          <div className=\"typing-indicator\">\n                            <span className=\"dot\"></span>\n                            <span className=\"dot\"></span>\n                            <span className=\"dot\"></span>\n                          </div>\n                        )}\n                      </div>\n\n                      {/* Message Input */}\n                      {\n                        status === 'pending' ? (\n                          <h3>Need to start chat!</h3>\n                        ) : (\n                          <>\n                            <div className=\"chat-input\">\n                              <input\n                                type=\"text\"\n                                placeholder=\"Type a message...\"\n                                value={newMessage}\n                                onChange={(e) => {\n                                  setNewMessage(e.target.value)\n                                  handleTyping(e.target.value)\n                                }}\n                                onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n                              />\n                              <button onClick={handleSendMessage}>\n                                <i className=\"fa fa-paper-plane\"></i>\n                              </button>\n                            </div>\n                          </>\n                        )\n                      }\n\n\n\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n        <BackToTop />\n        <Footer />\n      </div>\n\n      <style jsx='true'>{`\n        .chat-list {\n          background-color: #f8f9fa;\n          border-right: 1px solid #ddd;\n          height: 75vh;\n          overflow-y: auto;\n          padding: 15px;\n        }\n        .chat-list-header {\n          font-size: 1.25rem;\n          font-weight: bold;\n          margin-bottom: 10px;\n        }\n        .chat-list-item {\n          padding: 10px;\n          border-radius: 8px;\n          margin-bottom: 8px;\n          cursor: pointer;\n          transition: background-color 0.3s;\n        }\n        .chat-list-item.active,\n        .chat-list-item:hover {\n          background-color: #e0e0e0;\n        }\n        .chat-name {\n          font-size: 1rem;\n          margin: 0;\n          font-weight: bold;\n        }\n        .chat-last-message {\n          font-size: 0.85rem;\n          color: #666;\n        }\n        .chat-window {\n          display: flex;\n          flex-direction: column;\n          height: 75vh;\n          border-radius: 8px;\n          box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n          overflow: hidden;\n        }\n        .chat-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 15px 20px;\n          background-color: #007bff;\n          color: #fff;\n        }\n        .chat-messages {\n          flex: 1;\n          padding: 20px;\n          overflow-y: auto;\n          background-color: #f4f6f9;\n        }\n        .message {\n          max-width: 60%;\n          margin-bottom: 15px;\n          padding: 10px 15px;\n          border-radius: 20px;\n          font-size: 0.95rem;\n          position: relative;\n          word-wrap: break-word;\n        }\n        .message.sent {\n          align-self: flex-end;\n          background-color: #dcf8c6;\n          color: #333;\n          text-align: right;\n          border-top-right-radius: 5px;\n          margin-left: auto;\n        }\n        .message.received {\n          align-self: flex-start;\n          background-color: #ffffff;\n          color: #333;\n          border: 1px solid #e0e0e0;\n          border-top-left-radius: 5px;\n          margin-right: auto;\n        }\n        .card-body {\n          padding: 0px !important;\n        }\n        .typing-indicator {\n            display: flex;\n            align-items: center;\n            margin-top: 5px;\n            background: #5a4f4f;\n            width: 60px;\n            padding: 10px;\n            border-radius: 100px;\n        }\n        .dot {\n            width: 8px;\n            height: 8px;\n            margin: 0 2px;\n            border-radius: 50%;\n            background-color: #ffffff;\n            animation: typing 0.6s infinite alternate;\n        }\n        .dot:nth-child(2) {\n            animation-delay: 0.2s;\n        }\n        .dot:nth-child(3) {\n            animation-delay: 0.4s;\n        }\n        @keyframes typing {\n            0% {\n                transform: translateY(0);\n            }\n            100% {\n                transform: translateY(-5px);\n            }\n        }\n        .chat-input {\n          display: flex;\n          padding: 10px;\n          border-top: 1px solid #ddd;\n          background-color: #fff;\n        }\n        .chat-input input {\n          flex: 1;\n          padding: 10px;\n          border: 1px solid #ddd;\n          border-radius: 20px;\n          margin-right: 10px;\n        }\n        .chat-input button {\n          background-color: #007bff;\n          border: none;\n          border-radius: 50%;\n          width: 40px;\n          height: 40px;\n          cursor: pointer;\n        }\n        .chat-input button i {\n          color: #fff;\n          font-size: 1.25rem;\n        }\n      `}</style>\n    </>\n  )\n}\n\nexport default Chat\n"],"mappings":"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,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNnH,OAAA,CAACV,SAAS;QAAA0H,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACbnH,OAAA,CAACb,MAAM;QAAA6H,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC,eAENnH,OAAA;MAAOoI,GAAG,EAAC,MAAM;MAAArB,QAAA,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA,eACV,CAAC;AAEP,CAAC;AAAA9G,EAAA,CAnfKF,IAAI;EAAA,QACOX,SAAS,EAEJE,UAAU;AAAA;AAAA2I,EAAA,GAH1BlI,IAAI;AAqfV,eAAeA,IAAI;AAAA,IAAAkI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}